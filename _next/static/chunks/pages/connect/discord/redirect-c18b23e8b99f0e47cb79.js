_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[10],{JDnx:function(t,e,n){"use strict";var o=n("q1tI"),s=n.n(o).a.createContext({isAuthenticated:!1,setIsAuthenticated:function(){},cart:{items:[],total:0},addItem:function(){},removeItem:function(){},user:{},setUser:function(){}});e.a=s},dnLZ:function(t,e,n){"use strict";n.r(e);var o=n("q1tI"),s=n.n(o),i=n("nOHt"),r=n("JDnx"),u=s.a.createElement;e.default=function(t){var e=Object(i.useRouter)(),n=Object(o.useContext)(r.a);return Object(o.useEffect)((function(){var t=200;fetch("".concat("https://mit-fs-restaurant-app-strapi.herokuapp.com","/auth/discord/callback").concat(window.location.search)).then((function(e){return t=e.status,e.json()})).then((function(o){if(200!==t){var s,i,r,u,c,a;n.setUser(null),n.setIsAuthenticated(!1);var l=null===o||void 0===o||null===(s=o.message)||void 0===s||null===(i=s[0])||void 0===i||null===(r=i.messages)||void 0===r?void 0:r[0];return l=null!==(u=null===(c=l)||void 0===c?void 0:c.message)&&void 0!==u?u:null===(a=l)||void 0===a?void 0:a.id,n.setNotification({color:"danger",message:"Error registering user: "+l}),void setTimeout((function(){return n.setNotification(null)}),3e3)}localStorage.setItem("jwt",o.jwt),localStorage.setItem("username",o.user.username),console.log(o.user),n.setUser(o.user),n.setIsAuthenticated(!0),n.setNotification({color:"success",message:"Registration successful"}),setTimeout((function(){return n.setNotification(null)}),3e3),e.push("/")})).catch((function(t){console.error(t)}))}),[e]),u(s.a.Fragment,null)}},jCrO:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/connect/discord/redirect",function(){return n("dnLZ")}])}},[["jCrO",0,1,2]]]);